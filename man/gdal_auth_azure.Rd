% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/core-gdal_auth_helpers.R
\name{gdal_auth_azure}
\alias{gdal_auth_azure}
\title{Create Process-Isolated Azure Blob Storage Authentication Environment Variables}
\usage{
gdal_auth_azure(no_sign_request = FALSE)
}
\arguments{
\item{no_sign_request}{Logical. If \code{TRUE}, configures public container access
without requiring credentials. Default \code{FALSE}.}
}
\value{
A named character vector of environment variables for \code{\link[=gdal_with_env]{gdal_with_env()}}.
}
\description{
\code{gdal_auth_azure()} reads Azure Blob Storage authentication credentials from
environment variables and returns them as a named character vector suitable for
use with \code{\link[=gdal_with_env]{gdal_with_env()}}.

\strong{IMPORTANT}: Credentials are read from environment variables (not from function
arguments) to prevent accidental exposure in code repositories. This encourages
secure credential management via \code{.Renviron} files or external secret managers.

This is the modern, recommended approach for Azure credentials.
}
\section{Setting Up Credentials}{


\strong{Option 1: Connection String (Recommended)}

Add to your \verb{~/.Renviron} or project \code{.Renviron}:

\if{html}{\out{<div class="sourceCode">}}\preformatted{AZURE_STORAGE_CONNECTION_STRING=DefaultEndpointsProtocol=https;AccountName=...;AccountKey=...
}\if{html}{\out{</div>}}

\strong{Option 2: Account + Access Key}

Add to your \verb{~/.Renviron}:

\if{html}{\out{<div class="sourceCode">}}\preformatted{AZURE_STORAGE_ACCOUNT=myaccount
AZURE_STORAGE_ACCESS_KEY=your_access_key
}\if{html}{\out{</div>}}

\strong{Option 3: Account + SAS Token}

Add to your \verb{~/.Renviron}:

\if{html}{\out{<div class="sourceCode">}}\preformatted{AZURE_STORAGE_ACCOUNT=myaccount
AZURE_STORAGE_SAS_TOKEN=sv=2020-08-04&ss=bfqt&...
}\if{html}{\out{</div>}}
}

\section{Which Method to Use}{

\itemize{
\item \strong{Connection String}: Easiest, recommended for development
\item \strong{Account + Access Key}: Standard approach
\item \strong{Account + SAS Token}: Most secure for production (time-limited tokens)
}
}

\section{Usage Example}{


\if{html}{\out{<div class="sourceCode r">}}\preformatted{# In your .Renviron file:
# AZURE_STORAGE_CONNECTION_STRING=DefaultEndpointsProtocol=https;...

# In your R script:
auth <- gdal_auth_azure()  # Reads from environment

job <- gdal_gdal_vector_convert(
  input = gdal_vsi_url("vsiaz", container = "data", path = "file.shp"),
  output_format = "GPKG"
) |>
  gdal_with_env(auth) |>
  gdal_run()
}\if{html}{\out{</div>}}
}

\section{Why No Function Arguments?}{


Credentials are \strong{intentionally not accepted as function arguments} because:
\itemize{
\item OK Prevents accidental hardcoding of secrets in R scripts
\item OK Reduces risk of leaking credentials via version control or logs
\item OK Encourages secure credential management via .Renviron
\item OK Follows security best practices (12-factor app)
}
}

