% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/core-gdal_auth_helpers.R
\name{gdal_auth_gcs}
\alias{gdal_auth_gcs}
\title{Create Process-Isolated Google Cloud Storage Authentication Environment Variables}
\usage{
gdal_auth_gcs(no_sign_request = FALSE)
}
\arguments{
\item{no_sign_request}{Logical. If \code{TRUE}, configures public bucket access
without requiring credentials. Default \code{FALSE}.}
}
\value{
A named character vector of environment variables for \code{\link[=gdal_with_env]{gdal_with_env()}}.
}
\description{
\code{gdal_auth_gcs()} reads Google Cloud Storage authentication credentials from
environment variables and returns them as a named character vector suitable for
use with \code{\link[=gdal_with_env]{gdal_with_env()}}.

\strong{IMPORTANT}: Credentials file path is read from environment variables (not from
function arguments) to prevent accidental exposure in code repositories. This
encourages secure credential management via \code{.Renviron} files.
}
\section{Setting Up Credentials}{


\strong{Option 1: Service Account JSON File (Recommended)}
\enumerate{
\item Download JSON credentials from Google Cloud Console
\item Save to a secure location (e.g., \verb{~/.gcp/credentials.json})
\item Add to your \verb{~/.Renviron} or project \code{.Renviron}:
}

\if{html}{\out{<div class="sourceCode">}}\preformatted{GOOGLE_APPLICATION_CREDENTIALS=~/.gcp/credentials.json
}\if{html}{\out{</div>}}
\enumerate{
\item Restart R or run \code{readRenviron("~/.Renviron")}
}

\strong{Option 2: Using gcloud CLI (Alternative)}

Set up credentials via:

\if{html}{\out{<div class="sourceCode bash">}}\preformatted{gcloud auth application-default login
}\if{html}{\out{</div>}}

This automatically sets \code{GOOGLE_APPLICATION_CREDENTIALS} for you.
}

\section{Usage Example}{


\if{html}{\out{<div class="sourceCode r">}}\preformatted{# In your .Renviron file:
# GOOGLE_APPLICATION_CREDENTIALS=~/.gcp/credentials.json

# In your R script:
auth <- gdal_auth_gcs()  # Reads from environment

job <- gdal_gdal_vector_convert(
  input = gdal_vsi_url("vsigs", bucket = "my-bucket", path = "data.shp"),
  output_format = "GPKG"
) |>
  gdal_with_env(auth) |>
  gdal_run()
}\if{html}{\out{</div>}}
}

\section{Why No Function Arguments?}{


Credentials are \strong{intentionally not accepted as function arguments} because:
\itemize{
\item ✓ Prevents accidental hardcoding of secrets in R scripts
\item ✓ Reduces risk of leaking credentials via version control or logs
\item ✓ Encourages secure credential management via .Renviron
\item ✓ Follows security best practices (12-factor app)
}
}

