% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/topics-backends.R
\name{backends}
\alias{backends}
\title{Execution Backends - gdalcli Backend Options and Configuration}
\description{
gdalcli supports multiple execution backends, each with different characteristics.
The system automatically selects the best available backend, but you can override
this when needed.
}
\details{
\subsection{Available Backends}{
\subsection{gdalraster (Rcpp C++ bindings)}{
\itemize{
\item \strong{Requires:} gdalraster >= 2.2.0 R package installed
\item \strong{Speed:} Fastest for batch operations (10-50x faster than processx)
\item \strong{Availability:} Windows binaries available; macOS/Linux require system GDAL
\item \strong{Features:} All advanced features with gdalraster 2.3.0+
\item \strong{Overhead:} Minimal startup overhead, ideal for loops
\item \strong{Best for:} Batch processing, Windows users, performance-critical applications
}
}

\subsection{processx (System GDAL subprocess)}{
\itemize{
\item \strong{Requires:} GDAL installed and in system PATH
\item \strong{Speed:} Suitable for individual operations
\item \strong{Availability:} Works anywhere GDAL is installed
\item \strong{Features:} All GDAL functionality available
\item \strong{Overhead:} 0.1-0.5 second startup per operation (~49 ms per call)
\item \strong{Best for:} Individual operations, isolated execution, maximum compatibility
}
}

\subsection{reticulate (Python via GDAL bindings)}{
\itemize{
\item \strong{Requires:} Python with GDAL bindings installed
\item \strong{Speed:} Similar to processx
\item \strong{Availability:} When Python GDAL is configured
\item \strong{Features:} All GDAL functionality available
\item \strong{Use case:} Integration with Python-based workflows
}
}

}

\subsection{Auto-Selection Logic}{

By default, gdalcli uses this selection logic:

\if{html}{\out{<div class="sourceCode">}}\preformatted{1. Check if gdalraster >= 2.2.0 is installed
   → If yes, use gdalraster backend
   → If no, continue to step 2

2. Check if processx can access system GDAL
   → If yes, use processx backend
   → If no, continue to step 3

3. Check if reticulate can access Python GDAL
   → If yes, use reticulate backend
   → If no, error: no backends available
}\if{html}{\out{</div>}}
}

\subsection{Backend Configuration}{
\subsection{Global Backend Preference}{

Set default backend selection via options:

\if{html}{\out{<div class="sourceCode r">}}\preformatted{# Auto-select best available (default)
options(gdalcli.prefer_backend = "auto")

# Always prefer gdalraster if available, fall back to processx
options(gdalcli.prefer_backend = "gdalraster")

# Force processx (ignore gdalraster even if installed)
options(gdalcli.prefer_backend = "processx")

# Force reticulate (Python-based GDAL)
options(gdalcli.prefer_backend = "reticulate")
}\if{html}{\out{</div>}}
}

\subsection{Per-Call Backend Selection}{

Override backend selection for specific operations:

\if{html}{\out{<div class="sourceCode r">}}\preformatted{library(gdalcli)

job <- gdal_raster_info("file.tif")

# Use specific backend
result1 <- gdal_job_run(job, backend = "gdalraster")
result2 <- gdal_job_run(job, backend = "processx")
}\if{html}{\out{</div>}}
}

}

\subsection{Performance Comparison}{

\strong{Actual benchmark results} (gdalraster 2.2.1 with GDAL 3.11.4):

50 command discovery operations:
\itemize{
\item gdalraster (Rcpp): \strong{0.145 seconds} (2.9 ms per call)
\item processx (subprocess): \strong{2.597 seconds} (51.94 ms per call)
\item \strong{Speedup: 17.91x}
}

Projected savings for larger batches:
\itemize{
\item 100 operations: ~4.9 seconds saved
\item 500 operations: ~24 seconds saved
\item 1000 operations: ~49 seconds saved
}

\strong{Key finding:} Subprocess startup overhead is ~49 ms per operation.

\strong{Variables affecting actual speedup:}
\itemize{
\item Operation complexity (command discovery vs. complex processing)
\item File sizes and dataset characteristics
\item System resources (CPU, disk I/O, RAM)
\item GDAL algorithm efficiency for the specific task
}

\strong{Note:} Results above are for lightweight command discovery. Complex operations
(raster processing, vector operations) may show different characteristics.
Benchmark with your real data for accurate estimates in your use case.
}

\subsection{Checking Backend Availability}{

\if{html}{\out{<div class="sourceCode r">}}\preformatted{library(gdalcli)

# Check if gdalraster is available
if (.check_gdalraster_version("2.2.0", quietly = TRUE)) \{
  cat("gdalraster backend available\\n")
\} else \{
  cat("Using processx backend\\n")
\}

# Check gdalraster version
gdalcli:::.get_gdalraster_version()
# [1] "2.3.0"

# Check if specific feature is available
gdalcli:::.gdal_has_feature("setVectorArgsFromObject")
# [1] TRUE (if gdalraster >= 2.3.0)
}\if{html}{\out{</div>}}
}

\subsection{Best Practices}{
\enumerate{
\item \strong{Default to auto-selection} - Let gdalcli choose the best backend
\item \strong{Install gdalraster on Windows} - Simplest way to avoid system GDAL dependency
\item \strong{Use explicit selection for benchmarking} - Compare backends with \code{backend} parameter
\item \strong{Monitor memory with large datasets} - Gdalraster holds more data in memory than processx
\item \strong{Test with your data} - Performance characteristics vary by operation type
}
}

\subsection{Troubleshooting}{
\subsection{"No backends available" error}{

Either gdalraster and processx are not installed:

\if{html}{\out{<div class="sourceCode r">}}\preformatted{# Verify gdalraster is installed
requireNamespace("gdalraster")

# Or install system GDAL and processx
install.packages("processx")
}\if{html}{\out{</div>}}
}

\subsection{Backend not switching}{

\if{html}{\out{<div class="sourceCode r">}}\preformatted{# Check current preference setting
getOption("gdalcli.prefer_backend")

# Reset to auto-selection
options(gdalcli.prefer_backend = "auto")

# Verify gdalraster version
gdalcli:::.get_gdalraster_version()
}\if{html}{\out{</div>}}
}

\subsection{Unexpected performance}{

\if{html}{\out{<div class="sourceCode r">}}\preformatted{# Verify which backend is being used
gdal_job_run(job, verbose = TRUE)

# Force comparison
time_gdalraster <- system.time(gdal_job_run(job, backend = "gdalraster"))
time_processx <- system.time(gdal_job_run(job, backend = "processx"))
}\if{html}{\out{</div>}}
}

}
}
\seealso{
\code{\link[=gdal_job_run]{gdal_job_run()}} for \code{backend} parameter documentation,
\link{gdalraster-backend} for gdalraster-specific information,
\link{GDAL-features} for advanced GDAL 3.12+ features
}
\keyword{internal}
