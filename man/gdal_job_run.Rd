% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/core-gdal_run.R
\name{gdal_job_run}
\alias{gdal_job_run}
\alias{gdal_job_run.gdal_job}
\title{Execute a GDAL Job}
\usage{
gdal_job_run(x, ..., backend = NULL)

\method{gdal_job_run}{gdal_job}(
  x,
  stream_in = NULL,
  stream_out_format = NULL,
  env = NULL,
  verbose = FALSE,
  ...
)
}
\arguments{
\item{x}{An S3 object to be executed. Typically a \link{gdal_job}.}

\item{...}{Additional arguments passed to specific methods.}

\item{backend}{Character string specifying the backend to use: \code{"processx"} (default,
uses processx::run), \code{"gdalraster"} (uses gdalraster's C++ bindings, if available),
or \code{"reticulate"} (uses Python's osgeo.gdal via reticulate, if available).
If \code{NULL} (default), dispatches to the appropriate S3 method based on \code{x}'s class.}

\item{stream_in}{An R object to be streamed to \verb{/vsistdin/}. Can be \code{NULL},
a character string, or raw vector. If provided, overrides \code{x$stream_in}.}

\item{stream_out_format}{Character string: \code{NULL} (default, no streaming),
\code{"text"} (return stdout as character), \code{"raw"} (return as raw bytes), or
\code{"json"} (capture output, parse as JSON, return as R list/vector).
If provided, overrides \code{x$stream_out_format}.}

\item{env}{A named character vector of environment variables for the subprocess.
These are merged with \code{x$env_vars}, with explicit \code{env} values taking precedence.}

\item{verbose}{Logical. If \code{TRUE}, prints the command being executed. Default \code{FALSE}.}
}
\value{
Depends on the streaming configuration:
\itemize{
\item If \code{stream_out_format = NULL} (default): Invisibly returns \code{TRUE} on success.
Raises an R error if the GDAL process fails.
\item If \code{stream_out_format = "text"}: Returns the stdout as a character string.
\item If \code{stream_out_format = "raw"}: Returns the stdout as a raw vector.
}
}
\description{
\code{gdal_job_run()} is an S3 generic function that executes a GDAL command specification.
It is the "collector" function in the lazy evaluation framework, taking a \link{gdal_job} object
and converting it into a running process.

For \code{gdal_job} objects, the method performs the following steps:
\enumerate{
\item Serializes the job specification into GDAL CLI arguments.
\item Configures input/output streaming if specified.
\item Aggregates configuration options and environment variables.
\item Executes the process using \code{\link[processx:run]{processx::run()}}.
\item Handles errors and returns the result (or stdout if streaming).
}
}
\examples{
\dontrun{
# Basic usage (no streaming)
job <- gdal_vector_convert(
  input = "input.shp",
  output = "output.gpkg"
) |>
  gdal_with_co("COMPRESS=LZW")
gdal_job_run(job)

# With input streaming
geojson_string <- '{type: "FeatureCollection", ...}'
job <- gdal_vector_convert(
  input = "/vsistdin/",
  output = "output.gpkg"
)
gdal_job_run(job, stream_in = geojson_string)

# With output streaming
job <- gdal_vector_info("input.gpkg", output_format = "JSON")
json_result <- gdal_job_run(job, stream_out = "text")
}

}
\seealso{
\link{gdal_job}, \code{\link[=gdal_with_co]{gdal_with_co()}}, \code{\link[=gdal_with_config]{gdal_with_config()}}, \code{\link[=gdal_with_env]{gdal_with_env()}}
}
