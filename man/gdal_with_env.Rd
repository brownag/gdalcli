% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/core-gdal_modifiers.R
\name{gdal_with_env}
\alias{gdal_with_env}
\alias{gdal_with_env.gdal_job}
\title{Add Environment Variables to a GDAL Job}
\usage{
gdal_with_env(x, ...)

\method{gdal_with_env}{gdal_job}(x, ...)
}
\arguments{
\item{x}{A \link{gdal_job} object.}

\item{...}{One or more environment variable specifications:
\itemize{
\item If passed as a named list/vector, keys are variable names and values are the values.
\item If passed as character strings in \code{"KEY=VALUE"} format, they are parsed.
\item Can use results from helper functions like \code{\link[=gdal_auth_s3]{gdal_auth_s3()}}, \code{\link[=gdal_auth_azure]{gdal_auth_azure()}}, etc.
}}
}
\value{
A modified \link{gdal_job} object with the environment variables added.
}
\description{
\code{gdal_with_env()} is an S3 generic for adding environment variables to a
\link{gdal_job} object. Environment variables are passed to the subprocess
and affect GDAL's behavior.

This is the modern, recommended way to set authentication credentials and other
environment-specific state. It is process-isolated and reproducible, unlike the
legacy \code{\link[=set_gdal_auth]{set_gdal_auth()}} approach of using \code{Sys.setenv()}.

This function is designed to be used with the native R pipe (\verb{|>}).
}
\examples{
\dontrun{
# Using character vector of KEY=VALUE strings
job <- gdal_vector_convert("in.shp", "out.gpkg") |>
  gdal_with_env("AWS_ACCESS_KEY_ID=...", "AWS_SECRET_ACCESS_KEY=...")

# Using named vector
job <- gdal_vector_convert("in.shp", "out.gpkg") |>
  gdal_with_env(c(
    AWS_ACCESS_KEY_ID = "...",
    AWS_SECRET_ACCESS_KEY = "..."
  ))

# Using auth helper function
job <- gdal_vector_convert("in.shp", "out.gpkg") |>
  gdal_with_env(gdal_auth_s3(...))

gdal_run(job)
}

}
\seealso{
\code{\link[=gdal_with_co]{gdal_with_co()}}, \code{\link[=gdal_with_config]{gdal_with_config()}}, \code{\link[=gdal_auth_s3]{gdal_auth_s3()}}, \code{\link[=gdal_auth_azure]{gdal_auth_azure()}}
}
