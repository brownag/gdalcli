% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/core-gdal_job.R
\name{new_gdal_job}
\alias{new_gdal_job}
\alias{gdal_job}
\title{Define and Create a GDAL Job Specification}
\usage{
new_gdal_job(
  command_path,
  arguments = list(),
  config_options = character(),
  env_vars = character(),
  stream_in = NULL,
  stream_out_format = NULL,
  pipeline = NULL
)
}
\arguments{
\item{command_path}{A character vector specifying the command hierarchy.
Example: \code{c("vector", "convert")} for the \verb{gdal vector convert} command.}

\item{arguments}{A named list of validated arguments. Keys are argument names
(e.g., \code{"input"}, \code{"output"}, \code{"dst-crs"}). Values are the corresponding arguments.}

\item{config_options}{A named character vector of config options. Default empty.}

\item{env_vars}{A named character vector of environment variables. Default empty.}

\item{stream_in}{An R object for input streaming. Default \code{NULL}.}

\item{stream_out_format}{Character string specifying output format or \code{NULL}. Default \code{NULL}.}

\item{pipeline}{A \code{gdal_pipeline} object containing the sequence of jobs that led to this job, or \code{NULL}. Default \code{NULL}.}
}
\value{
An S3 object of class \code{gdal_job}.
}
\description{
The \code{gdal_job} S3 class is the central data structure that encapsulates a GDAL command
specification. It implements the lazy evaluation framework, where commands are constructed
as objects and only executed when passed to \code{\link[=gdal_run]{gdal_run()}}.

The class follows the S3 object system and is designed to be composable with the native
R pipe (\verb{|>}). Helper functions like \code{\link[=gdal_with_co]{gdal_with_co()}}, \code{\link[=gdal_with_config]{gdal_with_config()}}, etc., all
accept and return \code{gdal_job} objects, enabling fluent command building.
}
\section{Class Structure}{


A \code{gdal_job} object is an S3 list with the following slots:
\itemize{
\item \strong{command_path} (\code{character}): The command hierarchy (e.g., \code{c("vector", "convert")}).
\item \strong{arguments} (\code{list}): A named list of validated command arguments, mapped to their
final CLI flags and values.
\item \strong{config_options} (\code{character}): A named vector of GDAL \code{--config} options
(e.g., \code{c("OGR_SQL_DIALECT" = "SQLITE")}).
\item \strong{env_vars} (\code{character}): A named vector of environment variables for the subprocess.
\item \strong{stream_in} (\code{ANY}): An R object to be streamed to \verb{/vsistdin/}. Can be \code{NULL},
a character string, or raw vector.
\item \strong{stream_out_format} (\code{character(1)}): Specifies output streaming format:
\code{NULL} (default, no output streaming), \code{"text"} (capture stdout as character string),
or \code{"raw"} (capture as raw bytes).
\item \strong{pipeline} (\code{gdal_pipeline} or \code{NULL}): A pipeline object containing the sequence
of jobs that were executed prior to this job, or \code{NULL} if this is a standalone job.
}
}

\section{Constructor}{


The \code{new_gdal_job()} function creates a new \code{gdal_job} object. This is typically used
internally by auto-generated wrapper functions (e.g., \code{\link[=gdal_vector_convert]{gdal_vector_convert()}}).
End users typically interact with high-level constructor functions, not \code{new_gdal_job()} directly.
}

\examples{
# Low-level constructor (typically used internally by auto-generated functions)
job <- new_gdal_job(
  command_path = c("vector", "convert"),
  arguments = list(input = "/path/to/input.shp", output_layer = "output")
)

# High-level constructor (end-user API)
job <- gdal_vector_convert(
  input = "/path/to/input.shp",
  output_layer = "output"
)

# Modify with piping
result <- job |>
  gdal_with_co("COMPRESS=LZW") |>
  gdal_with_config("OGR_SQL_DIALECT=SQLITE")

}
\seealso{
\code{\link[=gdal_run]{gdal_run()}}, \code{\link[=gdal_with_co]{gdal_with_co()}}, \code{\link[=gdal_with_config]{gdal_with_config()}}, \code{\link[=gdal_with_env]{gdal_with_env()}}
}
